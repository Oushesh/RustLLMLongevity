# ğŸ§¬ RustLLMLongevity

**A modern Rust backend for AI-driven longevity insights â€” integrating LLMs, vector search (Qdrant), and health data modeling (hair, skin, testosterone).**

This service uses **Axum** for web routing, **Prisma ORM** for database management, and **Qdrant** for semantic vector search and retrieval-augmented generation (RAG).  
Parallel data processing is powered by **Rayon** for optimal performance on CPU-intensive tasks.

---

## ğŸ“ Project Structure

RustLLMLongevity/
â”œâ”€â”€ Cargo.toml # Rust package manifest (dependencies, metadata)
â”œâ”€â”€ Cargo.lock # Auto-generated lockfile for dependency versions
â”œâ”€â”€ .env # Environment variables (API keys, DB URLs)
â”œâ”€â”€ .gitignore # Git ignore rules
â”œâ”€â”€ Dockerfile # Docker build configuration
â”œâ”€â”€ docker-compose.yml # Docker Compose services (e.g., Postgres, Qdrant)
â”‚
â”œâ”€â”€ prisma/
â”‚ â”œâ”€â”€ schema.prisma # Prisma ORM schema (models & datasource)
â”‚ â””â”€â”€ migrations/ # Auto-generated DB migrations
â”‚ â””â”€â”€ ... # (Generated by Prisma CLI)
â”‚
â”œâ”€â”€ src/
â”‚ â”œâ”€â”€ main.rs # Entry point â€” lightweight bootstrap
â”‚ â”œâ”€â”€ app.rs # Axum router, middleware, and app setup
â”‚ â”œâ”€â”€ config.rs # Reads & manages environment configuration
â”‚ â”œâ”€â”€ db.rs # Initializes Prisma client connection
â”‚ â”œâ”€â”€ qdrant.rs # Vector database (Qdrant) helper utilities
â”‚ â”‚
â”‚ â”œâ”€â”€ routes/ # REST / API endpoints
â”‚ â”‚ â”œâ”€â”€ mod.rs # Route registration
â”‚ â”‚ â”œâ”€â”€ health.rs # /health â€” app health check endpoint
â”‚ â”‚ â”œâ”€â”€ chat.rs # /chat â€” LLM + RAG chat integration
â”‚ â”‚ â”œâ”€â”€ search.rs # /search â€” semantic / vector search
â”‚ â”‚
â”‚ â””â”€â”€ utils/ # Shared utilities and helpers
â”‚ â”œâ”€â”€ errors.rs # Centralized error types & handling
â”‚ â”œâ”€â”€ llm.rs # Calls to LLM APIs (OpenAI, Anthropic, etc.)
â”‚ â””â”€â”€ embeddings.rs # Embedding creation & query logic
â”‚
â”œâ”€â”€ scripts/
â”‚ â”œâ”€â”€ dev.sh # Dev runner (e.g., cargo watch + hot reload)
â”‚ â””â”€â”€ seed_data.rs # Script to seed initial DB data
â”‚
â””â”€â”€ README.md # Project documentation



---

## ğŸš€ Quick Start

### 1. Clone & Configure
```bash
git clone https://github.com/yourusername/RustLLMLongevity.git
cd RustLLMLongevity
cp .env.example .env
```

### 2. Run with Docker
docker-compose up --build

This starts:
Postgres (for Prisma ORM)
Qdrant (for vector embeddings)
The Rust API backend (Axum)

### 3. Local Development
Install Rust + Cargo (nightly or stable).

cargo build 
cargo run

For hot reloading during development:
```bash
./scripts/dev.sh
```

Example src/main.rs

use std::net::SocketAddr;
use dotenv::dotenv;

mod app;
mod config;

#[tokio::main]
async fn main() -> anyhow::Result<()> {
    dotenv().ok();

    let cfg = config::Config::from_env()?;
    let app = app::build_router(cfg.clone()).await?;

    let addr = SocketAddr::from(([0, 0, 0, 0], cfg.port));
    println!("ğŸš€ Server running at http://{addr}");

    axum::Server::bind(&addr)
        .serve(app.into_make_service())
        .await?;

    Ok(())
}

âš™ï¸ Parallel Processing with Rayon
Use Rayon for data-parallel operations like embedding generation: 

use rayon::prelude::*;

fn process_embeddings(data: Vec<String>) -> Vec<f32> {
    data.par_iter()
        .flat_map(|text| create_embedding(text))
        .collect()
}


ğŸ§  FeaturesAxum â€” fast, async web framework
Prisma ORM â€” type-safe database layer
Qdrant â€” vector search and RAG support
Rayon â€” multi-threaded data parallelism
LLM Integration â€” OpenAI / Anthropic APIs for intelligent chat and analysis
Structured Modularity â€” clean separation of config, routes, and utils


ğŸ§ª Testing
cargo test

Health Endpoints: 
GET /health â€” Health check (DB + vector store)
POST /chat â€” LLM chat & RAG pipeline
GET /search?q=term â€” Semantic search via Qdrant

Example Use Cases
Tracking and analyzing biomarkers (hair, skin, testosterone)
Generating personalized longevity insights
Combining LLM reasoning + structured health data


ğŸ§© Tech Stack
Layer	              Tool/Library	              Purpose
Web	                Axum                        Async HTTP framework
ORM	                Prisma Client Rust          Type-safe DB access
Vector DB	          Qdrant                      Embedding search & retrieval
Parallelism	        Rayon                       CPU-bound task parallelism
LLM APIs	          OpenAI/Anthropic	          RAG + natural language insights
Container	          Docker + Compose	          Reproducible deployment


License
MIT License Â© 2025 Oushesh
Built with â¤ï¸ in Rust
---
Would you like me to include a minimal `app.rs` example next â€” showing how routes and layers are composed (with Axum + Prisma client + Qdrant)?

